# ========================================
# application.properties
# ========================================

# ========================================
# Server
# ========================================
server.port=8080
app.public-url=http://localhost:8080/
# ========================================
# Database (H2 local-friendly)
# ========================================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:musicdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:org.h2.Driver}

spring.jpa.hibernate.ddl-auto=${SPRING_JPA_DDL_AUTO:create-drop}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}
spring.jpa.open-in-view=false

spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

spring.flyway.enabled=${SPRING_FLYWAY_ENABLED:false}

# ========================================
# MinIO (DOCKER + LOCAL)
# ========================================
minio.internal-url=${MINIO_INTERNAL_URL:http://localhost:9000}
minio.public-url=${MINIO_PUBLIC_URL:http://localhost:9000}

minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
minio.secret-key=${MINIO_SECRET_KEY:minioadmin}
minio.bucket-name=${MINIO_BUCKET_NAME:albums}
minio.presigned-url-expiration=${MINIO_PRESIGNED_EXPIRATION:1800}

# ========================================
# CORS (para API e WS via browser)
# ========================================
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:5173}
cors.allow-credentials=${CORS_ALLOW_CREDENTIALS:true}
cors.allowed-methods=${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS,PATCH}
cors.allowed-headers=${CORS_ALLOWED_HEADERS:*}
cors.max-age=${CORS_MAX_AGE:3600}

# ========================================
# JWT (dev)
# ========================================
jwt.secret=${JWT_SECRET:dev-secret}
jwt.expiration=${JWT_EXPIRATION:300000}
jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:86400000}
